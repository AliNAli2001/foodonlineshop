{
  "info": {
    "name": "Laravel API Collection (Sanctum Updated)",
    "_postman_id": "laravel-api-sanctum-updated",
    "description": "Updated collection for testing the Laravel API endpoints with Sanctum authentication, including query parameters for language, filters, and adjusted request bodies.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"first_name\": \"Test\",\n    \"last_name\": \"User\",\n    \"email\": \"test@example.com\",\n    \"phone\": \"1234567890\",\n    \"password\": \"password\",\n    \"password_confirmation\": \"password\",\n    \"language_preference\": \"en\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"token\", jsonData.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password\",\n    \"device_name\": \"postman\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/logout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "logout"
              ]
            }
          }
        },
        {
          "name": "Verify Email",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"code\": \"0000000000\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/verify-email",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "verify-email"
              ]
            }
          }
        },
        {
          "name": "Verify Phone",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"code\": \"0000000000\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/verify-phone",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "verify-phone"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "List Products",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products?search=example&category_id=1&company_id=1&tags=1,2&featured=true&min_price=10&max_price=100&sort_by=selling_price&sort_order=asc&per_page=12&lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products"
              ],
              "query": [
                {
                  "key": "search",
                  "value": "example",
                  "description": "Search by product name"
                },
                {
                  "key": "category_id",
                  "value": "1",
                  "description": "Filter by category ID"
                },
                {
                  "key": "company_id",
                  "value": "1",
                  "description": "Filter by company ID"
                },
                {
                  "key": "tags",
                  "value": "1,2",
                  "description": "Filter by tag IDs (comma-separated)"
                },
                {
                  "key": "featured",
                  "value": "true",
                  "description": "Filter featured products only"
                },
                {
                  "key": "min_price",
                  "value": "10",
                  "description": "Minimum price filter"
                },
                {
                  "key": "max_price",
                  "value": "100",
                  "description": "Maximum price filter"
                },
                {
                  "key": "sort_by",
                  "value": "selling_price",
                  "description": "Sort by: created_at, selling_price, name_en, name_ar"
                },
                {
                  "key": "sort_order",
                  "value": "asc",
                  "description": "Sort order: asc or desc"
                },
                {
                  "key": "per_page",
                  "value": "12",
                  "description": "Items per page"
                },
                {
                  "key": "lang",
                  "value": "en",
                  "description": "Language: en or ar"
                }
              ]
            }
          }
        },
        {
          "name": "Show Product",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products/1?lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products",
                "1"
              ],
              "query": [
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        },
        {
          "name": "Filter Products by Category",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products?category_id=1&lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products"
              ],
              "query": [
                {
                  "key": "category_id",
                  "value": "1",
                  "description": "Filter by category ID"
                },
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        },
        {
          "name": "Filter Products by Company",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products?company_id=1&lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products"
              ],
              "query": [
                {
                  "key": "company_id",
                  "value": "1",
                  "description": "Filter by company ID"
                },
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        },
        {
          "name": "Filter Products by Tags",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products?tags=1,2,3&lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products"
              ],
              "query": [
                {
                  "key": "tags",
                  "value": "1,2,3",
                  "description": "Filter by tag IDs (comma-separated)"
                },
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        },
        {
          "name": "Featured Products",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/products?featured=true&lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products"
              ],
              "query": [
                {
                  "key": "featured",
                  "value": "true"
                },
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Companies",
      "item": [
        {
          "name": "List Companies",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/companies?lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "companies"
              ],
              "query": [
                {
                  "key": "lang",
                  "value": "en",
                  "description": "Language: en or ar"
                }
              ]
            }
          }
        },
        {
          "name": "Show Company with Products",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/companies/1?lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "companies",
                "1"
              ],
              "query": [
                {
                  "key": "lang",
                  "value": "en",
                  "description": "Language: en or ar"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Categories",
      "item": [
        {
          "name": "List Categories",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/categories?lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "categories"
              ],
              "query": [
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        },
        {
          "name": "Show Category",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/categories/1?lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "categories",
                "1"
              ],
              "query": [
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        },
        {
          "name": "Featured Categories (Assumed Route)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/categories/featured?lang=en",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "categories",
                "featured"
              ],
              "query": [
                {
                  "key": "lang",
                  "value": "en"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Orders (Auth)",
      "item": [
        {
          "name": "Create Order",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"order_source\": \"inside_city\",\n    \"delivery_method\": \"delivery\",\n    \"address_details\": \"123 Test St\",\n    \"latitude\": 1.23,\n    \"longitude\": 4.56,\n    \"shipping_notes\": \"Handle with care\",\n    \"general_notes\": \"Urgent\",\n    \"cart_data\": \"{\\\"1\\\": {\\\"quantity\\\": 2, \\\"price\\\": 10.5}, \\\"2\\\": {\\\"quantity\\\": 1, \\\"price\\\": 20}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/orders",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders"
              ]
            }
          }
        },
        {
          "name": "List Orders",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/orders",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders"
              ]
            }
          }
        },
        {
          "name": "Show Order",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/orders/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders",
                "1"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Profile (Auth)",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "profile"
              ]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"first_name\": \"Updated First\",\n    \"last_name\": \"Updated Last\",\n    \"phone\": \"0987654321\",\n    \"address_details\": \"Updated Address\",\n    \"language_preference\": \"ar\",\n    \"promo_consent\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "profile"
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://127.0.0.1:8000/api/v1",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ]
}